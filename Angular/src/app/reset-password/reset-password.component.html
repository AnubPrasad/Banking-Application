
<div class="d-flex justify-content-center align-items-center min-vh-100 bg-light">
  <div class="card p-4 shadow" style="max-width: 450px; width: 100%;">
    <h2 class="text-center mb-4">Reset Password</h2>

    <div *ngIf="successMessage" class="alert alert-success text-center">
      {{ successMessage }}
    </div>

    <form [formGroup]="resetPasswordForm" (ngSubmit)="resetPassword()" *ngIf="!successMessage">
      <div class="mb-3">
        <label for="newPassword" class="form-label">New Password</label>
        <input type="password" id="newPassword" class="form-control" formControlName="newPassword" required>
        
        <div class="mt-2">
          <p class="mb-1 small">Password must contain:</p>
          <ul class="small ps-3 mb-0">
            <li [class.text-success]="resetPasswordForm.get('newPassword')?.value?.length >= 6">
              At least 6 characters
            </li>
            <li [class.text-success]="hasNumber()">At least 1 number</li>
            <li [class.text-success]="hasSpecialChar()">At least 1 special character</li>
          </ul>
        </div>
      </div>

      <div class="mb-3">
        <label for="confirmPassword" class="form-label">Confirm Password</label>
        <input type="password" id="confirmPassword" class="form-control" formControlName="confirmPassword" required>
        <div *ngIf="resetPasswordForm.hasError('mismatch')" class="text-danger small mt-1">
          Passwords do not match
        </div>
      </div>

      <div *ngIf="errorMessage" class="alert alert-danger text-center">
        {{ errorMessage }}
      </div>

      <button type="submit" class="btn btn-primary w-100 mt-3" [disabled]="!resetPasswordForm.valid || isLoading">
        <span *ngIf="!isLoading">Reset Password</span>
        <span *ngIf="isLoading">Processing...</span>
      </button>
    </form>
  </div>
</div>
